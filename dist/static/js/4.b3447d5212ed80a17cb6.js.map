{"version":3,"sources":["webpack:///./src/components/project.vue?1344","webpack:///./src/components/project.vue","webpack:///src/base/project-list.vue","webpack:///./src/base/project-list.vue?16b9","webpack:///./src/base/project-list.vue","webpack:///src/components/project.vue"],"names":["components_project","render","_vm","this","_h","$createElement","_c","_self","staticClass","_v","_s","$t","projects","length","_l","item","key","id","attrs","ID","picture","img","title","targetAccount","isProject","isOver","_e","staticRenderFns","__vue_styles__","ssrContext","__webpack_require__","Component","normalizeComponent","project","__webpack_exports__","project_list","props","data","people","amount","[object Object]","getProjectInfo","methods","$http","post","table_url","json","code","scope","table","then","result","pool","rows","guaranteed_accounts","guarantee_pool","catch","err","console","log","base_project_list","to","path","query","style","backgroundImage","staticStyle","-webkit-box-orient","url","page","getProjects","sw","setLoading","get","domain","res","success","$","window","scroll","scrollTop","height","outerHeight","concat","components","foot","__WEBPACK_IMPORTED_MODULE_2_base_foot__","projectList","__WEBPACK_IMPORTED_MODULE_1_base_project_list__","blankPage","__WEBPACK_IMPORTED_MODULE_0_base_blank_page__"],"mappings":"uHAGeA,GADEC,OAFjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,YAAsBF,EAAA,OAAYE,YAAA,cAAwBF,EAAA,MAAWE,YAAA,sBAAgCN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAS,GAAA,oBAAAT,EAAAO,GAAA,KAAAP,EAAAU,UAAAV,EAAAU,SAAAC,OAAA,EAAAP,EAAA,MAAsGE,YAAA,oBAA+BN,EAAAY,GAAAZ,EAAA,kBAAAa,GAAsC,OAAAT,EAAA,MAAgBU,IAAAD,EAAAE,GAAAT,YAAA,uBAA6CF,EAAA,gBAAqBY,OAAOD,GAAAF,EAAAI,GAAAC,QAAAL,EAAAM,IAAAC,MAAAP,EAAAO,MAAAC,cAAAR,EAAAQ,kBAAuF,KAAM,GAAAjB,EAAA,cAAsBY,OAAOM,WAAA,KAAkBtB,EAAAO,GAAA,KAAAP,EAAAU,UAAAV,EAAAU,SAAAC,OAAA,GAAAX,EAAAuB,OAAAnB,EAAA,OAA0EE,YAAA,gBAA0BF,EAAA,QAAAJ,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAS,GAAA,qBAAAT,EAAAwB,MAAA,GAAAxB,EAAAO,GAAA,KAAAH,EAAA,aAElrBqB,oBCCjB,IASAC,EAZA,SAAAC,GACEC,EAAQ,SAgBVC,EAdyBD,EAAQ,OAcjCE,CACEC,EAAA,EACAjC,GATF,EAWA4B,EAPA,kBAEA,MAUeM,EAAA,QAAAH,EAAiB,2CCLhC,IAAAI,GACAC,OAAA,wCACAC,KAAA,MAEAC,OAAA,EACAC,OAAA,UAGAC,UACArC,KAAAsC,kBAEAC,SACAF,iBAEArC,KAAAwC,MACAC,KAAAzC,KAAA0C,WACAC,MAAA,EACAC,KAAA5C,KAAAoB,cACAyB,MAAA7C,KAAAoB,cACA0B,MAAA,WAEAC,KAAAC,IACA,IAAAC,EAAAD,EAAAd,KAAAgB,KAAA,GACAD,IACAjD,KAAAmC,OAAAc,EAAAE,oBACAnD,KAAAoC,OAAAa,EAAAG,kBAGAC,MAAAC,IACAC,QAAAC,IAAAF,QC1CeG,GADE3D,OAPjB,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,eAAyBE,YAAA,eAAAU,OAAkC2C,IACpJC,KAAA,iBACAC,OACA9C,GAAAf,EAAAe,QAESX,EAAA,OAAYE,YAAA,WAAAwD,OAA+BC,gBAAA,OAAA/D,EAAAkB,QAAA,OAA6ClB,EAAAO,GAAA,KAAAH,EAAA,OAAwBE,YAAA,SAAmBF,EAAA,MAAW4D,aAAaC,qBAAA,cAAiCjE,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAoB,UAAApB,EAAAO,GAAA,KAAAH,EAAA,KAAkDE,YAAA,SAAmBN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAS,GAAA,2BAAAT,EAAAO,GAAA,KAAAH,EAAA,OAAwEE,YAAA,gBAA0BN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAqC,OAAArC,EAAAqC,OAAA,YAAArC,EAAAO,GAAA,KAAAH,EAAA,OAAwEE,YAAA,WAAqBN,EAAAO,GAAAP,EAAAQ,GAAAR,EAAAS,GAAA,gBAAAT,EAAAQ,GAAAR,EAAAoC,OAAApC,EAAAoC,OAAA,WAExbX,oBCJjB,IAcAI,EAdyBD,EAAQ,OAcjCE,CACEG,EACAyB,GATF,EAVA,SAAA/B,GACEC,EAAQ,SAaV,kBAEA,MAUeI,EAAA,EAAAH,EAAiB,gGCChCG,EAAA,GACAG,KAAA,MAEA+B,IAAA,oCACA3C,QAAA,EACA4C,KAAA,EACAzD,cAGA4B,UACArC,KAAAmE,eAEA5B,SACAF,cAEA,IAAA+B,GAAA,EACApE,KAAAqE,YAAA,GACArE,KAAAwC,MACA8B,IAAAtE,KAAAuE,OAAAvE,KAAAiE,IAAAjE,KAAAkE,MACAnB,KAAAyB,IACAxE,KAAAqE,YAAA,GACAG,EAAAtC,KAAAuC,UAEAzE,KAAAS,SAAA+D,EAAAtC,eAEAlC,KAAAS,UAAAT,KAAAS,SAAAC,OAAA,GAEAV,KAAAsB,QAAA,EACA8C,GAAA,GAEAA,GAAA,KAIAf,MAAAC,IACAtD,KAAAqE,YAAA,GACAd,QAAAC,IAAAF,KAIAoB,EAAAC,QAAAC,OAAA,KAEA,GAAAR,GAGAM,EAAAC,QAAAE,YAAAH,EAAAC,QAAAG,UACAJ,EAAA,QAAAK,aAAA,GAAAL,EAAA,UAAAK,aAAA,KAEA/E,KAAAqE,YAAA,GACArE,KAAAkE,OAEAE,GAAA,EACApE,KAAAwC,MACA8B,IAAAtE,KAAAuE,OAAAvE,KAAAiE,IAAAjE,KAAAkE,MACAnB,KAAAyB,IACAxE,KAAAqE,YAAA,GAEArE,KAAAS,SAAAT,KAAAS,SAAAuE,OAAAR,EAAAtC,gBAEAsC,EAAAtC,eAAAxB,OAAA,GAEAV,KAAAsB,QAAA,EACA8C,GAAA,GAEAA,GAAA,IAGAf,MAAAC,IACAtD,KAAAqE,YAAA,GACAd,QAAAC,IAAAF,UAOA2B,YACIC,KAAAC,EAAA,EACAC,YAAAC,EAAA,EACAC,UAAAC,EAAA","file":"static/js/4.b3447d5212ed80a17cb6.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"project\"},[_c('div',{staticClass:\"container\"},[_c('h4',{staticClass:\"title text-center\"},[_vm._v(_vm._s(_vm.$t('all_projects')))]),_vm._v(\" \"),(_vm.projects&&_vm.projects.length>0)?_c('ul',{staticClass:\"row project-list\"},_vm._l((_vm.projects),function(item){return _c('li',{key:item.id,staticClass:\"col-sm-4 col-xs-12\"},[_c('project-list',{attrs:{\"id\":item.ID,\"picture\":item.img,\"title\":item.title,\"targetAccount\":item.targetAccount}})],1)}),0):_c('blank-page',{attrs:{\"isProject\":true}}),_vm._v(\" \"),(_vm.projects&&_vm.projects.length>3&&_vm.isOver)?_c('div',{staticClass:\"bottom-line\"},[_c('span',[_vm._v(_vm._s(_vm.$t('bottom_line')))])]):_vm._e()],1),_vm._v(\" \"),_c('foot')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-14db8a73\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/project.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-14db8a73\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./project.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./project.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./project.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-14db8a73\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./project.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-14db8a73\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/project.vue\n// module id = null\n// module chunks = ","<template>\n  <router-link\n    :to=\"{\n          path: '/projectDetail',\n          query: {\n            id: id\n          }\n        }\"\n    class=\"program-list\"\n  >\n    <div class=\"list-pic\" :style=\"{backgroundImage: 'url(' + picture +')'}\"></div>\n    <div class=\"info\">\n      <h4 style=\"-webkit-box-orient: vertical\">{{title}}</h4>\n      <p class=\"pool\">{{$t('mutual_aid_pool')}}:</p>\n      <div class=\"pool-amount\">{{amount?amount:'0 EOS'}}</div>\n      <div class=\"people\">{{$t('people')}}: {{people?people:0}}</div>\n    </div>\n  </router-link>\n</template>\n\n<script>\nexport default {\n  props: [\"picture\", \"id\", \"title\", \"targetAccount\"],\n  data() {\n    return {\n      people: 0,\n      amount: \"0 EOS\"\n    };\n  },\n  created() {\n    this.getProjectInfo();\n  },\n  methods: {\n    getProjectInfo() {\n      // 从链上查项目详情\n      this.$http\n        .post(this.table_url, {\n          json: true,\n          code: this.targetAccount, //项目合约账户\n          scope: this.targetAccount, //项目合约账户\n          table: \"global\"\n        })\n        .then(result => {\n          let pool = result.data.rows[0];\n          if (pool) {\n            this.people = pool.guaranteed_accounts;\n            this.amount = pool.guarantee_pool;\n          }\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  }\n};\n</script>\n\n<style scoped>\n.program-list {\n  display: block;\n  box-shadow: 0 2px 8px rgba(175, 175, 175, 0.5);\n  border-radius: 4px;\n  overflow: hidden;\n  background: #fff;\n}\n\n.list-pic {\n  height: 180px;\n  background-repeat: no-repeat;\n  background-position: center;\n  background-size: cover;\n  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.02);\n}\n\n.info {\n  padding: 24px 16px;\n  color: var(--blueGrey);\n  font-size: 12px;\n  line-height: 1;\n}\n\n.info h4 {\n  color: var(--darkColor);\n  font: 400 20px/1.4 Gotham-book;\n  height: 56px;\n  margin-bottom: 12px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  -webkit-box-orient: vertical;\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n}\n\n.info .pool {\n  color: var(--primaryColor);\n  margin-top: 32px;\n}\n.info .pool-amount {\n  color: var(--primaryColor);\n  font: 500 20px/20px Gotham-Medium;\n  margin: 8px 0 12px;\n}\n\n@media (max-width: 767px) {\n  .info .pool-amount {\n    font-size: 16px;\n    line-height: 16px;\n    margin: 4px 0 8px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/base/project-list.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('router-link',{staticClass:\"program-list\",attrs:{\"to\":{\n        path: '/projectDetail',\n        query: {\n          id: _vm.id\n        }\n      }}},[_c('div',{staticClass:\"list-pic\",style:({backgroundImage: 'url(' + _vm.picture +')'})}),_vm._v(\" \"),_c('div',{staticClass:\"info\"},[_c('h4',{staticStyle:{\"-webkit-box-orient\":\"vertical\"}},[_vm._v(_vm._s(_vm.title))]),_vm._v(\" \"),_c('p',{staticClass:\"pool\"},[_vm._v(_vm._s(_vm.$t('mutual_aid_pool'))+\":\")]),_vm._v(\" \"),_c('div',{staticClass:\"pool-amount\"},[_vm._v(_vm._s(_vm.amount?_vm.amount:'0 EOS'))]),_vm._v(\" \"),_c('div',{staticClass:\"people\"},[_vm._v(_vm._s(_vm.$t('people'))+\": \"+_vm._s(_vm.people?_vm.people:0))])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-2e3e4290\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/base/project-list.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-2e3e4290\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./project-list.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./project-list.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./project-list.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-2e3e4290\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./project-list.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-2e3e4290\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/base/project-list.vue\n// module id = null\n// module chunks = ","<template>\n  <div class=\"project\">\n    <div class=\"container\">\n      <h4 class=\"title text-center\">{{$t('all_projects')}}</h4>\n      <ul class=\"row project-list\" v-if=\"projects&&projects.length>0\">\n        <li class=\"col-sm-4 col-xs-12\" v-for=\"item in projects\" :key=\"item.id\">\n          <project-list\n            :id=\"item.ID\"\n            :picture=\"item.img\"\n            :title=\"item.title\"\n            :targetAccount=\"item.targetAccount\"\n          ></project-list>\n        </li>\n      </ul>\n      <blank-page :isProject=\"true\" v-else></blank-page>\n      <div v-if=\"projects&&projects.length>3&&isOver\" class=\"bottom-line\">\n        <span>{{$t('bottom_line')}}</span>\n      </div>\n    </div>\n    <foot></foot>\n  </div>\n</template>\n\n<script>\nimport blankPage from \"base/blank-page\";\nimport projectList from \"base/project-list\";\nimport foot from \"base/foot\";\nexport default {\n  data() {\n    return {\n      url: \"apiDao/getProjectList?v=1.0&page=\",\n      isOver: false, //全部已加载\n      page: 1,\n      projects: []\n    };\n  },\n  created() {\n    this.getProjects();\n  },\n  methods: {\n    getProjects() {\n      // 设置一个开关来避免重复请求数据\n      let sw = false;\n      this.setLoading(true);\n      this.$http\n        .get(this.domain + this.url + this.page)\n        .then(res => {\n          this.setLoading(false);\n          if (res.data.success) {\n            // 将得到的数据放到vue中的data\n            this.projects = res.data.data.data;\n\n            if (this.projects && this.projects.length < 9) {\n              // 全部已加载\n              this.isOver = true;\n              sw = false;\n            } else {\n              sw = true;\n            }\n          }\n        })\n        .catch(err => {\n          this.setLoading(false);\n          console.log(err);\n        });\n\n      // 注册scroll事件并监听\n      $(window).scroll(() => {\n        // 判断是否打开开关\n        if (sw == true) {\n          // 判断是否滚动到底部\n          if (\n            $(window).scrollTop() + $(window).height() >=\n            $(\"#app\").outerHeight(true) - $(\"footer\").outerHeight(true)\n          ) {\n            this.setLoading(true);\n            this.page++;\n            // 将开关关闭\n            sw = false;\n            this.$http\n              .get(this.domain + this.url + this.page)\n              .then(res => {\n                this.setLoading(false);\n                // 将新获取的数据push到vue中的data，就会反应到视图中了\n                this.projects = this.projects.concat(res.data.data.data);\n                // 数据更新完毕，将开关打开\n                if (res.data.data.data.length < 9) {\n                  // 全部已加载\n                  this.isOver = true;\n                  sw = false;\n                } else {\n                  sw = true;\n                }\n              })\n              .catch(err => {\n                this.setLoading(false);\n                console.log(err);\n              });\n          }\n        }\n      });\n    }\n  },\n  components: {\n    foot,\n    projectList,\n    blankPage\n  }\n};\n</script>\n\n<style scoped>\n.project {\n  padding-top: 80px;\n}\n.project-list {\n  padding: 64px 0 30px;\n}\n.project-list li {\n  margin-bottom: 32px;\n}\n.info .info-title {\n  font-size: 20px;\n  font-weight: 400;\n  height: 4.2em;\n  margin-bottom: 32px;\n  line-height: 1.4;\n}\n.bottom-line span {\n  background: var(--bgColor);\n}\n@media (max-width: 767px) {\n  .project {\n    padding-top: 24px;\n  }\n  .project-list {\n    padding: 24px 0 0;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/components/project.vue"],"sourceRoot":""}